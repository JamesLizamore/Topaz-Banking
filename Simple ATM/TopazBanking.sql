USE MASTER
GO

CREATE DATABASE TopazBanking
GO

USE TopazBanking
CREATE TABLE Users
(
    userID   VARCHAR(5)   NOT NULL PRIMARY KEY,
    userName VARCHAR(20),
    userPIN  VARCHAR(255) NOT NULL,
)
GO

USE TopazBanking
CREATE TABLE Accounts
(
    accountID     INT IDENTITY (1,1) NOT NULL PRIMARY KEY,
    accountType   VARCHAR(15)        NOT NULL,
    userID        VARCHAR(5),
    accountNumber VARCHAR(10)        NOT NULL,
    balance       MONEY,
    FOREIGN KEY (userID) REFERENCES Users (userID)
)
GO

USE TopazBanking
CREATE TABLE Transactions
(
    transactionID       INT IDENTITY (1,1) NOT NULL PRIMARY KEY,
    accountID           INT                NOT NULL,
    transactionType     VARCHAR(10)        NOT NULL,
    amount              MONEY,
    transactionDateTime DATETIME           NOT NULL DEFAULT SYSDATETIME(),
    FOREIGN KEY (accountID) REFERENCES Accounts (accountID)
);

INSERT INTO Users
VALUES ('U001', 'Alice Smith', '5994471ABB01112AFCC18159F6CC74B4F511B99806DA59B3CAF5A9C173CACFC5'),
       ('U002', 'Bob Johnson', '20F3765880A5C269B747E1E906054A4B4A3A991259F1E16B5DDE4742CEC2319A'),
       ('U003', 'Charlie Brown', '22023F923A6FD50F1C006BFE8CAC086470432A3D1822242935FCBA12E71DB977'),
       ('U004', 'David Wilson', '4AE23032DC1E60655F4884D40726AA9EFD6099C7D84D4513490D5F3F9FFE2506'),
       ('U005', 'Eva Davis', '374253898C08575E81C80E4858729C4615D4BD5A18C68E9C17CC4618DEB4D7C6');

INSERT INTO Accounts
VALUES ('SAVINGS', 'U001', '1234567890', 1500.75),
       ('SAVINGS', 'U002', '9876543210', 2450.00),
       ('SAVINGS', 'U003', '4567891230', 320.50),
       ('SAVINGS', 'U004', '1122334455', 875.00),
       ('SAVINGS', 'U005', '9988776655', 4500.25),
       ('CHEQUE', 'U001', '3948571026', 6546.45),
       ('CHEQUE', 'U002', '5728194036', 9866.45),
       ('CHEQUE', 'U003', '6482035917', 632136.45),
       ('CHEQUE', 'U004', '8301745926', 9854.45),
       ('CHEQUE', 'U005', '7159203846', 3548.12);
